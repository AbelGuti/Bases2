{
  "name": "phantom-workers",
  "version": "0.3.1",
  "author": {
    "name": "Jan Blaha",
    "email": "jan.blaha@hotmail.com"
  },
  "contributors": [],
  "description": "Run phantomjs scripts in managed workers",
  "keywords": [
    "phantomjs",
    "workers"
  ],
  "homepage": "https://github.com/pofider/phantom-workers",
  "repository": {
    "type": "git",
    "url": "git@github.com:pofider/phantom-workers.git"
  },
  "dependencies": {
    "net-cluster": "0.0.2",
    "phantomjs": "1.9.15",
    "portscanner": "1.0.0",
    "underscore": "1.8.2"
  },
  "devDependencies": {
    "mocha": "2.1.0",
    "should": "5.0.1"
  },
  "scripts": {
    "test": "mocha test/test.js --timeout 4000"
  },
  "main": "index.js",
  "license": "MIT",
  "readme": "#phantom-workers\r\n[![NPM Version](http://img.shields.io/npm/v/phantom-workers.svg?style=flat-square)](https://npmjs.com/package/phantom-workers)\r\n[![License](http://img.shields.io/npm/l/phantom-workers.svg?style=flat-square)](http://opensource.org/licenses/MIT)\r\n[![Build Status](https://travis-ci.org/pofider/phantom-workers.png?branch=master)](https://travis-ci.org/pofider/phantom-workers)\r\n\r\n> **Run phantom scripts in multiple  managed reusable workers**\r\n\r\nRunning a script in phantom can soon become performance bottleneck when it comes to scale. Starting phantomjs process is not a cheap operation and you cannot start hundred of them at once. This package provides solution using phantomjs webserver and multiple phantomjs processes running in parallel.\r\n\r\n\r\n##First create a phantomjs script wrapped in webserver\r\n\r\n```js\r\n//every worker gets unique port, get it from a process environment variables\r\nvar system = require(\"system\");\r\nvar port = system.env['PHANTOM_WORKER_PORT'];\r\nvar host = system.env['PHANTOM_WORKER_HOST'];\r\n\r\nrequire('webserver').create().listen(host + ':' + port, function (req, res) {\r\n\t//standard phantomjs script which get input parametrs from request\r\n\tvar page = require('webpage').create();\r\n\tpage.open(JSON.parse(req.post).url, function(status) {\r\n    var title = page.evaluate(function() {\r\n\t    return document.title;\r\n\t});\r\n\t\r\n\t//write the result to the response\r\n\tres.statusCode = 200;\r\n    res.write({ title: title });\r\n    res.close();\r\n});\r\n\r\n```\r\n\r\n##Start phantomjs workers\r\n```js\r\nvar phantom = require(\"phantom-workers\")({\r\n\tpathToPhantomScript: \"script.js\",\r\n\ttimeout: 5000,\r\n\tnumberOfWorkers: 10\r\n});\r\n\r\nphantom.start(function() {\r\n\tphantom.execute({ url: \"http://jsreport.net\" }, function(err, res) {\r\n\t\tconsole.log(res.title);\r\n\t});\r\n});\r\n```\r\n\r\n##Options\r\n\r\n`pathToPhantomScript` (required) - absolute path to the phantom script<br/>\r\n`timeout` - execution timeout in ms<br/>\r\n`numberOfWorkers` - number of phantomjs instances<br/>\r\n`host` - ip or hostname where to start listening phantomjs web service, default 127.0.0.1<br/>\r\n`portLeftBoundary` - don't specify if you just want to take any random free port<br/>\r\n`portRightBoundary` - don't specify if you just want to take any random free port<br/>\r\n`hostEnvVarName` - customize the name of the environment variable passed to the phantom script that specifies the worker host. defaults to `PHANTOM_WORKER_HOST`<br/>\r\n`portEnvVarName` - customize the name of the environment variable passed to the phantom script that specifies the worker port. defaults to `PHANTOM_WORKER_PORT`\r\n\r\n\r\n\r\n##License\r\nSee [license](https://github.com/pofider/phantom-workers/blob/master/LICENSE)\r\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/pofider/phantom-workers/issues"
  },
  "_id": "phantom-workers@0.3.1",
  "dist": {
    "shasum": "58a8dbe4ccd75604c915b6e91a1f907f13e0d9ec"
  },
  "_from": "phantom-workers@0.3.1",
  "_resolved": "https://registry.npmjs.org/phantom-workers/-/phantom-workers-0.3.1.tgz"
}
